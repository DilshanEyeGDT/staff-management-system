{
  "stats": {
    "suites": 6,
    "tests": 15,
    "passes": 15,
    "pending": 0,
    "failures": 0,
    "start": "2025-11-02T11:45:58.407Z",
    "end": "2025-11-02T11:46:49.548Z",
    "duration": 51141,
    "testsRegistered": 15,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "2a0e3f76-3356-4b5a-a82d-c8e4d91c1b27",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "086f1a2e-89df-47ed-bed6-cc2b26cbbf1e",
          "title": "Dashboard Page UI Test (Admin User)",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\ui\\dashboard.test.js",
          "file": "\\tests\\ui\\dashboard.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Dashboard Page UI Test (Admin User)\"",
              "fullTitle": "Dashboard Page UI Test (Admin User) \"before all\" hook in \"Dashboard Page UI Test (Admin User)\"",
              "timedOut": false,
              "duration": 3201,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "driver = await new Builder().forBrowser(\"chrome\").build();\n// âœ… Inject the token directly into localStorage before loading dashboard\nawait driver.get(BASE_URL);\nawait driver.executeScript(`window.localStorage.setItem('token', '${ACCESS_TOKEN}');`);\n// âœ… Now go to the dashboard\nawait driver.get(DASHBOARD_URL);",
              "err": {},
              "uuid": "6d6eee7f-0091-40cf-8357-cb8293241276",
              "parentUUID": "086f1a2e-89df-47ed-bed6-cc2b26cbbf1e",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Dashboard Page UI Test (Admin User)\"",
              "fullTitle": "Dashboard Page UI Test (Admin User) \"after all\" hook in \"Dashboard Page UI Test (Admin User)\"",
              "timedOut": false,
              "duration": 211,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) await driver.quit();",
              "err": {},
              "uuid": "999efd9d-2b59-4f8d-9934-42e3f9a96a3a",
              "parentUUID": "086f1a2e-89df-47ed-bed6-cc2b26cbbf1e",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should display the Admin Portal title",
              "fullTitle": "Dashboard Page UI Test (Admin User) should display the Admin Portal title",
              "timedOut": false,
              "duration": 99,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const titleElement = await driver.wait(\n  until.elementLocated(By.id(\"dashboard-title\")),\n  20000\n);\nconst text = await titleElement.getText();\nassert.strictEqual(text.trim(), \"Admin Portal\");",
              "err": {},
              "uuid": "10c436d1-5531-4a51-9a99-1f0a8cf73438",
              "parentUUID": "086f1a2e-89df-47ed-bed6-cc2b26cbbf1e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should display sidebar navigation buttons",
              "fullTitle": "Dashboard Page UI Test (Admin User) should display sidebar navigation buttons",
              "timedOut": false,
              "duration": 106,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const navProfile = await driver.findElement(By.id(\"nav-profile\"));\nconst navUsers = await driver.findElement(By.id(\"nav-users\"));\nconst navRoleAssign = await driver.findElement(By.id(\"nav-roleAssign\"));\nconst navHealth = await driver.findElement(By.id(\"nav-health\"));\nassert.ok(await navProfile.isDisplayed(), \"Profile button missing\");\nassert.ok(await navUsers.isDisplayed(), \"Users button missing\");\nassert.ok(await navRoleAssign.isDisplayed(), \"Role Assign button missing\");\nassert.ok(await navHealth.isDisplayed(), \"Health button missing\");",
              "err": {},
              "uuid": "362c95b4-68ac-4a25-a313-a4a897a94535",
              "parentUUID": "086f1a2e-89df-47ed-bed6-cc2b26cbbf1e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should navigate between sections (Profile â†’ Users â†’ RoleAssign â†’ Health)",
              "fullTitle": "Dashboard Page UI Test (Admin User) should navigate between sections (Profile â†’ Users â†’ RoleAssign â†’ Health)",
              "timedOut": false,
              "duration": 4598,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const buttons = [\"nav-profile\", \"nav-users\", \"nav-roleAssign\", \"nav-health\"];\nfor (const id of buttons) {\n  const button = await driver.findElement(By.id(id));\n  await button.click();\n  await driver.sleep(1000); // small wait for re-render\n  assert.ok(await button.isDisplayed(), `Failed to click ${id}`);\n}",
              "err": {},
              "uuid": "f7d0cca9-d9dc-45fd-9bfc-fe7ea5b6ccaf",
              "parentUUID": "086f1a2e-89df-47ed-bed6-cc2b26cbbf1e",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "10c436d1-5531-4a51-9a99-1f0a8cf73438",
            "362c95b4-68ac-4a25-a313-a4a897a94535",
            "f7d0cca9-d9dc-45fd-9bfc-fe7ea5b6ccaf"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 4803,
          "root": false,
          "rootEmpty": false,
          "_timeout": 60000
        },
        {
          "uuid": "b759a21c-5df3-4924-8383-3ed0bd92bfcb",
          "title": "Health Check Page UI Test (Admin User)",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\ui\\healthcheck.test.js",
          "file": "\\tests\\ui\\healthcheck.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Health Check Page UI Test (Admin User)\"",
              "fullTitle": "Health Check Page UI Test (Admin User) \"before all\" hook in \"Health Check Page UI Test (Admin User)\"",
              "timedOut": false,
              "duration": 3729,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const options = new chrome.Options();\noptions.addArguments(\"--start-maximized\");\ndriver = await new Builder()\n  .forBrowser(\"chrome\")\n  .setChromeOptions(options)\n  .build();\n// STEP 1ï¸âƒ£ â€” Open dashboard and inject admin token manually\nawait driver.get(DASHBOARD_URL);\nawait driver.executeScript(\n  `window.localStorage.setItem('token', '${ACCESS_TOKEN}');`\n);\nawait driver.navigate().refresh();\n// STEP 2ï¸âƒ£ â€” Wait until admin portal visible\nawait driver.wait(until.elementLocated(By.id(\"dashboard-side-panel\")), 30000);\nconst title = await driver.findElement(By.id(\"dashboard-title\")).getText();\nassert.ok(title.includes(\"Admin Portal\"), \"Dashboard title mismatch\");\nconsole.log(\"âœ… Dashboard loaded and authorized as Admin\");",
              "err": {},
              "uuid": "a8ce94d8-020c-4bbf-9983-059f61e6d6ee",
              "parentUUID": "b759a21c-5df3-4924-8383-3ed0bd92bfcb",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Health Check Page UI Test (Admin User)\"",
              "fullTitle": "Health Check Page UI Test (Admin User) \"after all\" hook in \"Health Check Page UI Test (Admin User)\"",
              "timedOut": false,
              "duration": 137,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) await driver.quit();",
              "err": {},
              "uuid": "306c36d7-6558-4e6c-a6a5-8649c386a22f",
              "parentUUID": "b759a21c-5df3-4924-8383-3ed0bd92bfcb",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should navigate to Health Check section",
              "fullTitle": "Health Check Page UI Test (Admin User) should navigate to Health Check section",
              "timedOut": false,
              "duration": 216,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const healthButton = await driver.wait(\n  until.elementLocated(By.id(\"nav-health\")),\n  20000,\n  \"Health navigation button not found\"\n);\nawait healthButton.click();\nawait driver.wait(until.elementLocated(By.id(\"healthcheck-container\")), 20000);\nconst header = await driver.findElement(By.id(\"healthcheck-title\")).getText();\nassert.ok(header.includes(\"System Health\"), \"Header text mismatch\");\nconsole.log(\"âœ… Navigated to Health Check section\");",
              "err": {},
              "uuid": "17fb3c3c-0409-47dd-8db9-f331888f86cb",
              "parentUUID": "b759a21c-5df3-4924-8383-3ed0bd92bfcb",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should display success or error alert after health check completes",
              "fullTitle": "Health Check Page UI Test (Admin User) should display success or error alert after health check completes",
              "timedOut": false,
              "duration": 33,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "try {\n  const result = await driver.wait(\n    until.elementLocated(By.id(\"healthcheck-success\")),\n    25000\n  );\n  const text = await result.getText();\n  assert.ok(text.includes(\"Server is Healthy\"), \"Success alert not found\");\n  console.log(\"âœ… Server is healthy (200 OK)\");\n} catch {\n  const errorAlert = await driver.wait(\n    until.elementLocated(By.id(\"healthcheck-error\")),\n    5000\n  );\n  const text = await errorAlert.getText();\n  assert.ok(\n    text.includes(\"Server is not reachable\") || text.includes(\"error\"),\n    \"Error alert not found\"\n  );\n  console.log(\"âš ï¸ Server health check failed but alert displayed correctly\");\n}",
              "err": {},
              "uuid": "1b180474-e4d0-4dfc-8d15-1325049f92c2",
              "parentUUID": "b759a21c-5df3-4924-8383-3ed0bd92bfcb",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "17fb3c3c-0409-47dd-8db9-f331888f86cb",
            "1b180474-e4d0-4dfc-8d15-1325049f92c2"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 249,
          "root": false,
          "rootEmpty": false,
          "_timeout": 90000
        },
        {
          "uuid": "55219d82-e0d8-4ee6-a258-f2ed768cfb23",
          "title": "Login Flow Test",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\ui\\login.test.js",
          "file": "\\tests\\ui\\login.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Login Flow Test\"",
              "fullTitle": "Login Flow Test \"before all\" hook in \"Login Flow Test\"",
              "timedOut": false,
              "duration": 2082,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "driver = await new Builder().forBrowser(\"chrome\").build();",
              "err": {},
              "uuid": "7ccaff6f-d799-436e-a92a-ae343ebefc65",
              "parentUUID": "55219d82-e0d8-4ee6-a258-f2ed768cfb23",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Login Flow Test\"",
              "fullTitle": "Login Flow Test \"after all\" hook in \"Login Flow Test\"",
              "timedOut": false,
              "duration": 255,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) {\n  await driver.quit();\n}",
              "err": {},
              "uuid": "9fede7f7-e8c7-42b1-828d-70c5025f2656",
              "parentUUID": "55219d82-e0d8-4ee6-a258-f2ed768cfb23",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should log in via Cognito and load Dashboard",
              "fullTitle": "Login Flow Test should log in via Cognito and load Dashboard",
              "timedOut": false,
              "duration": 19342,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// 1. Go to React login page\nawait driver.get(BASE_URL);\n// 2. Click \"Sign in with Cognito\"\nconst loginButton = await driver.findElement(By.css(\"button\"));\nawait loginButton.click();\n// 3. Wait for Cognito login page\nawait driver.wait(until.urlContains(\"cognito\"), 10000);\n// // 4. Enter Cognito credentials\n// const emailField = await driver.wait(until.elementLocated(By.id(\"signInFormUsername\")), 5000);\n// await emailField.sendKeys(\"testuser@example.com\");\n// const passwordField = await driver.findElement(By.id(\"signInFormPassword\"));\n// await passwordField.sendKeys(\"test@1234\");\n// // 5. Click Sign in (using name attribute)\n// const signInBtn = await driver.findElement(By.name(\"signInSubmitButton\"));\n// await signInBtn.click();\n// 6. Wait for dashboard to load (wait for sidebar title element)\nconst dashboardTitle = await driver.wait(\n  until.elementLocated(By.id(\"dashboard-title\")),\n  20000\n);\n// 7. Assert dashboard loaded\nconst titleText = await dashboardTitle.getText();\nassert.strictEqual(titleText, \"Admin Portal\");",
              "err": {},
              "uuid": "3b0a332e-05f8-496e-aec0-79672b6036d3",
              "parentUUID": "55219d82-e0d8-4ee6-a258-f2ed768cfb23",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "3b0a332e-05f8-496e-aec0-79672b6036d3"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 19342,
          "root": false,
          "rootEmpty": false,
          "_timeout": 90000
        },
        {
          "uuid": "9edad611-50e5-42bc-8982-b38c51d3d9ad",
          "title": "Admin Profile Section UI Test",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\ui\\profilesection.test.js",
          "file": "\\tests\\ui\\profilesection.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Admin Profile Section UI Test\"",
              "fullTitle": "Admin Profile Section UI Test \"before all\" hook in \"Admin Profile Section UI Test\"",
              "timedOut": false,
              "duration": 3944,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const options = new chrome.Options();\noptions.addArguments(\"--start-maximized\");\ndriver = await new Builder()\n  .forBrowser(\"chrome\")\n  .setChromeOptions(options)\n  .build();\nconsole.log(\"ðŸš€ Opening dashboard...\");\nawait driver.get(DASHBOARD_URL);\n// âœ… Inject valid Admin token manually\nawait driver.executeScript(\n  `window.localStorage.setItem('token', '${ACCESS_TOKEN}');`\n);\nawait driver.navigate().refresh();\n// âœ… Wait until dashboard sidebar appears\nawait driver.wait(until.elementLocated(By.id(\"dashboard-side-panel\")), 30000);\nconst title = await driver.findElement(By.id(\"dashboard-title\")).getText();\nassert.ok(title.includes(\"Admin Portal\"), \"Admin Portal title missing\");\nconsole.log(\"âœ… Dashboard loaded successfully as Admin\");",
              "err": {},
              "uuid": "37b4584e-9ca8-4de9-8b51-e47f8c16d8d2",
              "parentUUID": "9edad611-50e5-42bc-8982-b38c51d3d9ad",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Admin Profile Section UI Test\"",
              "fullTitle": "Admin Profile Section UI Test \"after all\" hook in \"Admin Profile Section UI Test\"",
              "timedOut": false,
              "duration": 353,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) {\n  console.log(\"ðŸ§¹ Closing browser...\");\n  await driver.quit();\n}",
              "err": {},
              "uuid": "49d052c4-1d98-4702-be62-e16ee9db00bb",
              "parentUUID": "9edad611-50e5-42bc-8982-b38c51d3d9ad",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should display Profile section by default",
              "fullTitle": "Admin Profile Section UI Test should display Profile section by default",
              "timedOut": false,
              "duration": 106,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Default selected page = Profile\nawait driver.wait(until.elementLocated(By.id(\"nav-profile\")), 20000);\nconst profileTitle = await driver.findElement(By.xpath(\"//h6[text()='Profile']\"));\nassert.ok(await profileTitle.isDisplayed(), \"Profile title not visible\");\nconst welcomeText = await driver.findElement(By.xpath(\"//p[contains(text(), 'Welcome')]\")).getText();\nassert.ok(welcomeText.includes(\"Welcome\"), \"Welcome message not found\");\nconst roleText = await driver.findElement(By.xpath(\"//p[contains(text(), 'Role:')]\")).getText();\nassert.ok(roleText.includes(\"Admin\"), \"Role should be Admin\");\nconsole.log(\"âœ… Profile section loaded correctly\");",
              "err": {},
              "uuid": "52c29712-ccd8-4d3c-826b-9bb32b399051",
              "parentUUID": "9edad611-50e5-42bc-8982-b38c51d3d9ad",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should enter edit mode when clicking 'Edit Display Name'",
              "fullTitle": "Admin Profile Section UI Test should enter edit mode when clicking 'Edit Display Name'",
              "timedOut": false,
              "duration": 223,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const editButton = await driver.findElement(By.id(\"edit-displayName-button\"));\nawait editButton.click();\nconst inputField = await driver.wait(\n  until.elementLocated(By.id(\"edit-displayName\")),\n  10000,\n  \"Edit input field not visible\"\n);\nassert.ok(await inputField.isDisplayed(), \"Edit input not displayed\");\nconsole.log(\"âœ… Entered edit mode successfully\");",
              "err": {},
              "uuid": "068936d9-eb08-4215-bb17-c086c9e4e4f9",
              "parentUUID": "9edad611-50e5-42bc-8982-b38c51d3d9ad",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should update display name successfully",
              "fullTitle": "Admin Profile Section UI Test should update display name successfully",
              "timedOut": false,
              "duration": 1284,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const input = await driver.findElement(By.id(\"edit-displayName\"));\nawait input.sendKeys(Key.CONTROL, \"a\"); // Select all\nawait input.sendKeys(Key.BACK_SPACE); // Clear\nawait input.sendKeys(\"Updated Admin Name\");\n// âœ… Fix ID typo\nconst saveBtn = await driver.findElement(By.id(\"save-displayName\"));\nawait saveBtn.click();\n// âœ… Wait for success alert\nawait driver.wait(until.alertIsPresent(), 10000);\nconst alert = await driver.switchTo().alert();\nconst alertText = await alert.getText();\nassert.ok(\n    alertText.toLowerCase().includes(\"updated successfully\"),\n    `Expected success alert message, got: ${alertText}`\n);\nawait alert.accept();\n// âœ… Wait for React to re-render (longer delay for UI update)\nawait driver.wait(\n    async () => {\n    const text = await driver\n        .findElement(By.xpath(\"//p[contains(text(), 'Welcome,')]\"))\n        .getText();\n    return text.includes(\"Updated Admin Name\");\n    },\n    20000, // increased timeout for safety\n    \"Updated display name not visible after saving\"\n  );\n\n  const updatedText = await driver\n.findElement(By.xpath(\"//p[contains(text(), 'Welcome,')]\"))\n.getText();\n\n  assert.ok(\nupdatedText.includes(\"Updated Admin Name\"),\n`Expected updated name in UI, got: ${updatedText}`\n  );\n\n  console.log(\"âœ… Display name updated and verified successfully\");",
              "err": {},
              "uuid": "591aeb2b-b031-41d5-9109-3c3ceb646d20",
              "parentUUID": "9edad611-50e5-42bc-8982-b38c51d3d9ad",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "52c29712-ccd8-4d3c-826b-9bb32b399051",
            "068936d9-eb08-4215-bb17-c086c9e4e4f9",
            "591aeb2b-b031-41d5-9109-3c3ceb646d20"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1613,
          "root": false,
          "rootEmpty": false,
          "_timeout": 90000
        },
        {
          "uuid": "19b70bb3-1252-4966-aafb-52cbe8d5bc7b",
          "title": "Role Assign Section UI Test (Admin User)",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\ui\\roleassign.test.js",
          "file": "\\tests\\ui\\roleassign.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Role Assign Section UI Test (Admin User)\"",
              "fullTitle": "Role Assign Section UI Test (Admin User) \"before all\" hook in \"Role Assign Section UI Test (Admin User)\"",
              "timedOut": false,
              "duration": 3818,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "driver = await new Builder().forBrowser(\"chrome\").build();\n// Inject token\nawait driver.get(BASE_URL);\nawait driver.executeScript(`window.localStorage.setItem('token', '${ACCESS_TOKEN}');`);\n// Go to dashboard\nawait driver.get(DASHBOARD_URL);\n// Wait for dashboard to load\nawait driver.wait(until.elementLocated(By.id(\"dashboard-title\")), 20000);",
              "err": {},
              "uuid": "e0e6cebd-5c31-40e4-b42f-ea776edfed3d",
              "parentUUID": "19b70bb3-1252-4966-aafb-52cbe8d5bc7b",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Role Assign Section UI Test (Admin User)\"",
              "fullTitle": "Role Assign Section UI Test (Admin User) \"after all\" hook in \"Role Assign Section UI Test (Admin User)\"",
              "timedOut": false,
              "duration": 178,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) await driver.quit();",
              "err": {},
              "uuid": "3f75ec94-d617-4044-b2e2-56403bd58b2b",
              "parentUUID": "19b70bb3-1252-4966-aafb-52cbe8d5bc7b",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should navigate to Role Assign section",
              "fullTitle": "Role Assign Section UI Test (Admin User) should navigate to Role Assign section",
              "timedOut": false,
              "duration": 531,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const navRoleAssign = await driver.wait(\n  until.elementLocated(By.id(\"nav-roleAssign\")),\n  20000\n);\nawait navRoleAssign.click();\n// Wait for role assign table\nawait driver.wait(until.elementLocated(By.xpath(\"//table\")), 20000);\nconst header = await driver.findElement(By.xpath(\"//h6[contains(text(),'Assign Roles')]\"));\nconst text = await header.getText();\nassert.strictEqual(text.trim(), \"Assign Roles\");",
              "err": {},
              "uuid": "94e1a3c0-b6e9-4437-ad06-123c55698d9d",
              "parentUUID": "19b70bb3-1252-4966-aafb-52cbe8d5bc7b",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should list users with dropdown and save buttons",
              "fullTitle": "Role Assign Section UI Test (Admin User) should list users with dropdown and save buttons",
              "timedOut": false,
              "duration": 210,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Ensure at least one user row exists\nconst userRows = await driver.findElements(By.xpath(\"//table/tbody/tr\"));\nassert.ok(userRows.length > 0, \"No users found in Role Assign section\");\n// Check dropdown and save icon for the first non-admin user\nlet targetRow;\nfor (let i = 1; i <= userRows.length; i++) {\n  const emailCell = await driver.findElement(By.xpath(`//table/tbody/tr[${i}]/td[1]`));\n  const email = await emailCell.getText();\n  if (email.trim().toLowerCase() !== \"testuser@example.com\") {\n    targetRow = i;\n    break;\n  }\n}\nassert.ok(targetRow, \"No non-admin user found for testing role change\");\nconst selectElement = await driver.findElement(By.id(`role-select-${targetRow}`));\nconst saveButton = await driver.findElement(By.id(`save-role-${targetRow}`));\nassert.ok(await selectElement.isDisplayed(), \"Role dropdown not visible\");\nassert.ok(await saveButton.isDisplayed(), \"Save button not visible\");",
              "err": {},
              "uuid": "a6c4a8bb-b3f7-450d-bf91-ddd34925cacf",
              "parentUUID": "19b70bb3-1252-4966-aafb-52cbe8d5bc7b",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should change a user role successfully",
              "fullTitle": "Role Assign Section UI Test (Admin User) should change a user role successfully",
              "timedOut": false,
              "duration": 1468,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// âœ… Wait for at least one user row\nconst firstRow = await driver.wait(\n  until.elementLocated(By.css(\"table tbody tr\")),\n  30000,\n  \"User row not found\"\n);\n// âœ… Locate the Select trigger (MUI renders it as a button)\nconst selectTrigger = await firstRow.findElement(By.css(\"[id^='role-select-']\"));\nawait selectTrigger.click();\n// âœ… Wait for dropdown menu and choose a role (e.g., Employee)\nconst option = await driver.wait(\n  until.elementLocated(By.xpath(\"//li[contains(., 'Employee')]\")),\n  10000,\n  \"Dropdown option not found\"\n);\nawait option.click();\n// âœ… Click save icon\nconst saveBtn = await firstRow.findElement(By.css(\"[id^='save-role-']\"));\nawait saveBtn.click();\n// âœ… Wait for Snackbar message to appear\nconst snackbar = await driver.wait(\n  until.elementLocated(By.xpath(\"//div[contains(., 'Role updated successfully!')]\")),\n  10000,\n  \"Snackbar message not found\"\n);\nconst msg = await snackbar.getText();\nassert.ok(msg.includes(\"Role updated successfully!\"), \"Role update message not shown\");",
              "err": {},
              "uuid": "d7e7dfaf-626a-4b7a-9c08-29d17069b884",
              "parentUUID": "19b70bb3-1252-4966-aafb-52cbe8d5bc7b",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "94e1a3c0-b6e9-4437-ad06-123c55698d9d",
            "a6c4a8bb-b3f7-450d-bf91-ddd34925cacf",
            "d7e7dfaf-626a-4b7a-9c08-29d17069b884"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 2209,
          "root": false,
          "rootEmpty": false,
          "_timeout": 80000
        },
        {
          "uuid": "f9eacad3-ad4a-45ef-b237-3dd98839de40",
          "title": "Admin Users Section UI Test",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\ui\\usersection.test.js",
          "file": "\\tests\\ui\\usersection.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Admin Users Section UI Test\"",
              "fullTitle": "Admin Users Section UI Test \"before all\" hook in \"Admin Users Section UI Test\"",
              "timedOut": false,
              "duration": 3779,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const options = new chrome.Options();\noptions.addArguments(\"--start-maximized\");\ndriver = await new Builder().forBrowser(\"chrome\").setChromeOptions(options).build();\nconsole.log(\"ðŸš€ Opening dashboard...\");\nawait driver.get(DASHBOARD_URL);\n// Inject valid admin token\nawait driver.executeScript(`window.localStorage.setItem('token', '${ACCESS_TOKEN}');`);\nawait driver.navigate().refresh();\n// Wait for dashboard sidebar\nawait driver.wait(until.elementLocated(By.id(\"dashboard-side-panel\")), 30000);\nconst title = await driver.findElement(By.id(\"dashboard-title\")).getText();\nassert.ok(title.includes(\"Admin Portal\"), \"Admin Portal title missing\");\nconsole.log(\"âœ… Dashboard loaded successfully as Admin\");",
              "err": {},
              "uuid": "d5e7f100-6ec2-439c-baa6-4ba39255924f",
              "parentUUID": "f9eacad3-ad4a-45ef-b237-3dd98839de40",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Admin Users Section UI Test\"",
              "fullTitle": "Admin Users Section UI Test \"after all\" hook in \"Admin Users Section UI Test\"",
              "timedOut": false,
              "duration": 107,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) {\n  console.log(\"ðŸ§¹ Closing browser...\");\n  await driver.quit();\n}",
              "err": {},
              "uuid": "9edb2c77-dcd2-44b9-b475-a000b63d102d",
              "parentUUID": "f9eacad3-ad4a-45ef-b237-3dd98839de40",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should navigate to Users section",
              "fullTitle": "Admin Users Section UI Test should navigate to Users section",
              "timedOut": false,
              "duration": 369,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const usersNav = await driver.findElement(By.id(\"nav-users\"));\nawait usersNav.click();\n// Wait until user list table appears\nawait driver.wait(until.elementLocated(By.xpath(\"//h6[text()='User List']\")), 15000);\nconst header = await driver.findElement(By.xpath(\"//h6[text()='User List']\"));\nassert.ok(await header.isDisplayed(), \"User List header not visible\");\n// Verify at least one row exists\nconst firstRow = await driver.wait(\n  until.elementLocated(By.xpath(\"//table/tbody/tr\")),\n  15000,\n  \"No user rows found\"\n);\nassert.ok(await firstRow.isDisplayed(), \"No users found in the table\");\nconsole.log(\"âœ… Navigated to Users section and user table visible\");",
              "err": {},
              "uuid": "632ce281-ba2f-4358-b39d-9d339954f991",
              "parentUUID": "f9eacad3-ad4a-45ef-b237-3dd98839de40",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should open user details and display audit logs or 'No logs' message",
              "fullTitle": "Admin Users Section UI Test should open user details and display audit logs or 'No logs' message",
              "timedOut": false,
              "duration": 548,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Click the first user row\nconst firstRow = await driver.findElement(By.xpath(\"//table/tbody/tr[1]\"));\nawait driver.executeScript(\"arguments[0].scrollIntoView(true);\", firstRow);\nawait firstRow.click();\n// Wait for User Details view\nawait driver.wait(\n  until.elementLocated(By.xpath(\"//h6[text()='User Details']\")),\n  20000,\n  \"User Details view not loaded\"\n);\nconst detailsHeader = await driver.findElement(By.xpath(\"//h6[text()='User Details']\"));\nassert.ok(await detailsHeader.isDisplayed(), \"User Details header not shown\");\n// Confirm essential info\nconst emailField = await driver.findElement(By.xpath(\"//p[contains(text(), 'Email:')]\"));\nassert.ok(await emailField.isDisplayed(), \"Email field not visible in details\");\nconst displayNameField = await driver.findElement(By.xpath(\"//p[contains(text(), 'Display Name:')]\"));\nassert.ok(await displayNameField.isDisplayed(), \"Display Name not visible\");\n// Verify audit logs presence (table or fallback text)\nlet auditHeader;\ntry {\n  auditHeader = await driver.wait(\n    until.elementLocated(By.xpath(\"//h6[text()='Audit Logs']\")),\n    10000\n  );\n  assert.ok(await auditHeader.isDisplayed(), \"Audit Logs table not visible\");\n  console.log(\"âœ… Audit Logs table visible for selected user\");\n} catch {\n  const noLogsMsg = await driver.findElement(\n    By.xpath(\"//p[contains(text(), 'No audit logs available')]\")\n  );\n  assert.ok(await noLogsMsg.isDisplayed(), \"Expected 'No logs' message not visible\");\n  console.log(\"â„¹ï¸ No audit logs available message shown (valid fallback)\");\n}",
              "err": {},
              "uuid": "cf7829ce-8254-4fee-bcf3-3ed834c59f41",
              "parentUUID": "f9eacad3-ad4a-45ef-b237-3dd98839de40",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should return back to Users list",
              "fullTitle": "Admin Users Section UI Test should return back to Users list",
              "timedOut": false,
              "duration": 167,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const backButton = await driver.findElement(\n  By.xpath(\"//button[contains(text(), 'Back to Users')]\")\n);\nawait backButton.click();\nawait driver.wait(until.elementLocated(By.xpath(\"//h6[text()='User List']\")), 10000);\nconst tableVisible = await driver.findElement(By.xpath(\"//h6[text()='User List']\"));\nassert.ok(await tableVisible.isDisplayed(), \"User list not visible after going back\");\nconsole.log(\"âœ… Returned to Users list successfully\");",
              "err": {},
              "uuid": "cd4d8265-edef-4dc4-bad0-9fcfc2b198d1",
              "parentUUID": "f9eacad3-ad4a-45ef-b237-3dd98839de40",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "632ce281-ba2f-4358-b39d-9d339954f991",
            "cf7829ce-8254-4fee-bcf3-3ed834c59f41",
            "cd4d8265-edef-4dc4-bad0-9fcfc2b198d1"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1084,
          "root": false,
          "rootEmpty": false,
          "_timeout": 90000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 60000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.4"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": null,
      "version": "6.3.0"
    }
  }
}