{
  "stats": {
    "suites": 1,
    "tests": 10,
    "passes": 10,
    "pending": 0,
    "failures": 0,
    "start": "2025-12-19T09:02:51.799Z",
    "end": "2025-12-19T09:03:42.252Z",
    "duration": 50453,
    "testsRegistered": 10,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "78490dc6-38ca-492b-a224-5d1be27d8300",
      "title": "",
      "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\phase6\\eventsTab1.test.js",
      "file": "\\tests\\phase6\\eventsTab1.test.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "af0d0674-edef-49f0-9d56-38d02d0ed302",
          "title": "Events Tab UI test",
          "fullFile": "C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\phase6\\eventsTab1.test.js",
          "file": "\\tests\\phase6\\eventsTab1.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"Events Tab UI test\"",
              "fullTitle": "Events Tab UI test \"before all\" hook in \"Events Tab UI test\"",
              "timedOut": false,
              "duration": 6650,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const options = new chrome.Options();\noptions.addArguments(\"--start-maximized\");\ndriver = await new Builder()\n  .forBrowser(\"chrome\")\n  .setChromeOptions(options)\n  .build();\nconsole.log(\"ðŸš€ Opening dashboard...\");\nawait driver.get(DASHBOARD_URL);\n// Inject valid Admin token manually\nawait driver.executeScript(\n  `window.localStorage.setItem('token', '${ACCESS_TOKEN}');`\n);\nawait driver.navigate().refresh();\n// Wait until dashboard sidebar appears\nawait driver.wait(until.elementLocated(By.id(\"dashboard-side-panel\")), 30000);\nconst title = await driver.findElement(By.id(\"dashboard-title\")).getText();\nassert.ok(title.includes(\"Admin Portal\"), \"Admin Portal title missing\");\nconsole.log(\"âœ… Dashboard loaded successfully as Admin\");",
              "err": {},
              "uuid": "cc14bd71-77e9-486f-bb2b-4d15504dceea",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [
            {
              "title": "\"after all\" hook in \"Events Tab UI test\"",
              "fullTitle": "Events Tab UI test \"after all\" hook in \"Events Tab UI test\"",
              "timedOut": false,
              "duration": 432,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "if (driver) {\n  console.log(\"ðŸš€ Closing browser...\");\n  await driver.quit(); // closes all tabs and ends session\n  }",
              "err": {},
              "uuid": "31eabddd-c2c0-43b6-b59f-62c989a6c9f0",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": true,
              "skipped": false
            }
          ],
          "tests": [
            {
              "title": "should navigate to Events & Announcements page",
              "fullTitle": "Events Tab UI test should navigate to Events & Announcements page",
              "timedOut": false,
              "duration": 692,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const feedbackNav = await driver.findElement(\n  By.id(\"nav-eventsAnnouncements\")\n);\nawait feedbackNav.click();\nconst pageTitle = await driver.wait(\n  until.elementLocated(By.id(\"events-announcements-title\")),\n  10000\n);\nassert.strictEqual(await pageTitle.getText(), \"Events & Announcements\");\nconsole.log(\"âœ… Events & Announcements page loaded\");",
              "err": {},
              "uuid": "7436384f-59c8-46b1-b6c2-3010659c843e",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should filter events by channel and date and fetch results",
              "fullTitle": "Events Tab UI test should filter events by channel and date and fetch results",
              "timedOut": false,
              "duration": 9628,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "console.log(\"ðŸ§ª Verifying default Events tab...\");\n/* ---------- Confirm first tab is active ---------- */\nconst eventsTab = await driver.findElement(By.id(\"tab-events\"));\nconst tabSelected = await eventsTab.getAttribute(\"aria-selected\");\nassert.strictEqual(tabSelected, \"true\", \"Events tab is not active by default\");\nconsole.log(\"âœ… 'Create & Update Events' tab is active\");\n/* ---------- Confirm EventsTab content ---------- */\nawait driver.wait(\n  until.elementLocated(By.css('[data-testid=\"events-container\"]')),\n  10000\n);\nconsole.log(\"âœ… EventsTab component loaded\");\n/* ---------- Select Channel = Email ---------- */\nconst channelSelect = await driver.findElement(\n  By.css('[data-testid=\"events-channel-select\"]')\n);\nawait channelSelect.click();\nconst emailOption = await driver.findElement(\n  By.css('[data-testid=\"events-channel-email\"]')\n);\nawait emailOption.click();\nconsole.log(\"âœ… Channel filter set to EMAIL\");\n/* ---------- Manual Since Date Selection ---------- */\nconst sinceDatePicker = await driver.findElement(\nBy.css('[data-testid=\"events-since-date\"]')\n);\n\n// Force click using JS (safe for MUI)\nawait driver.executeScript(\n\"arguments[0].scrollIntoView({behavior: 'smooth', block: 'center'});\",\nsinceDatePicker\n);\nawait driver.executeScript(\"arguments[0].click();\", sinceDatePicker);\n\nconsole.log(\"â± Please manually select the SINCE date in the calendar...\");\nawait driver.sleep(8000); // wait for manual selection\n\n/* ---------- Click Fetch Events ---------- */\nconst fetchButton = await driver.findElement(\n  By.css('[data-testid=\"events-fetch-button\"]')\n);\nawait fetchButton.click();\nconsole.log(\"ðŸš€ Fetch Events clicked\");\n/* ---------- Validate Fetch Result ---------- */\nawait driver.wait(async () => {\n  const loading = await driver.findElements(\n    By.css('[data-testid=\"events-loading\"]')\n  );\n  const cards = await driver.findElements(\n    By.css('[data-testid^=\"event-card-\"]')\n  );\n  const empty = await driver.findElements(\n    By.css('[data-testid=\"events-empty\"]')\n  );\n  return loading.length > 0 || cards.length > 0 || empty.length > 0;\n}, 15000);\nconsole.log(\"âœ… Events fetch completed\");\n/* ---------- Final Assertion ---------- */\nconst eventCards = await driver.findElements(\n  By.css('[data-testid^=\"event-card-\"]')\n);\nif (eventCards.length > 0) {\n  console.log(`âœ… ${eventCards.length} event(s) displayed`);\n  assert.ok(eventCards.length >= 1);\n} else {\n  const emptyText = await driver.findElement(\n    By.css('[data-testid=\"events-empty\"]')\n  );\n  assert.strictEqual(\n    await emptyText.getText(),\n    \"No events found.\"\n  );\n  console.log(\"â„¹ï¸ No events found for selected filters\");\n}",
              "err": {},
              "uuid": "f1223ff0-637b-4a0b-b020-bea3122140a2",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should open event details dialog when clicking an event and close it",
              "fullTitle": "Events Tab UI test should open event details dialog when clicking an event and close it",
              "timedOut": false,
              "duration": 1650,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "console.log(\"ðŸ§ª Clicking first fetched event...\");\n/* ---------- Wait for at least one event card ---------- */\nconst firstEventCard = await driver.wait(\n  until.elementLocated(By.css('[data-testid^=\"event-card-\"]')),\n  15000\n);\nawait driver.executeScript(\n  \"arguments[0].scrollIntoView({behavior: 'smooth', block: 'center'});\",\n  firstEventCard\n);\nawait driver.executeScript(\"arguments[0].click();\", firstEventCard);\nconsole.log(\"âœ… Event card clicked\");\n/* ---------- Wait for dialog to open ---------- */\nconst dialog = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"event-details-dialog\"]')),\n  10000\n);\nassert.ok(await dialog.isDisplayed(), \"Event details dialog not visible\");\nconsole.log(\"âœ… Event Details dialog opened\");\n/* ---------- Handle loading state ---------- */\nawait driver.wait(async () => {\n  const loaders = await driver.findElements(\n    By.css('[data-testid=\"event-details-loading\"]')\n  );\n  return loaders.length === 0;\n}, 15000);\nconsole.log(\"âœ… Event details loaded\");\n/* ---------- Validate essential content ---------- */\nconst title = await driver.findElement(\n  By.css('[data-testid=\"event-details-event-title\"]')\n);\nconst summary = await driver.findElement(\n  By.css('[data-testid=\"event-details-event-summary\"]')\n);\nassert.ok(await title.getText(), \"Event title missing\");\nassert.ok(await summary.getText(), \"Event summary missing\");\nconsole.log(\"ðŸ“„ Event Title:\", await title.getText());\n/* ---------- Close dialog ---------- */\nconst closeButton = await driver.findElement(\n  By.css('[data-testid=\"event-details-close-button\"]')\n);\nawait closeButton.click();\nconsole.log(\"âŒ Close button clicked\");\n/* ---------- Confirm dialog is closed ---------- */\nawait driver.wait(\n  until.stalenessOf(dialog),\n  10000\n);\nconsole.log(\"âœ… Event Details dialog closed successfully\");",
              "err": {},
              "uuid": "6c5d7aa0-9dd1-4e18-b40f-d0ca0ad9e11f",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should create a new event successfully",
              "fullTitle": "Events Tab UI test should create a new event successfully",
              "timedOut": false,
              "duration": 21416,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "console.log(\"ðŸ§ª Creating a new event...\");\n/* ---------- Confirm first tab is active ---------- */\nconst eventsTab = await driver.findElement(By.id(\"tab-events\"));\nconst tabSelected = await eventsTab.getAttribute(\"aria-selected\");\nassert.strictEqual(tabSelected, \"true\", \"Events tab is not active by default\");\nconsole.log(\"âœ… 'Create & Update Events' tab is active\");\n/* =======================\n   OPEN CREATE DIALOG\n======================= */\nconst addButton = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"events-add-button\"]')),\n  10000\n);\nawait driver.executeScript(\"arguments[0].click();\", addButton);\nconst dialog = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"create-event-dialog\"]')),\n  10000\n);\nawait driver.wait(until.elementIsVisible(dialog), 10000);\nconsole.log(\"âœ… Create Event dialog opened\");\n/* =======================\n   TITLE (IMPORTANT FIX)\n======================= */\nconst titleInput = await driver.wait(\n  until.elementLocated(\n    By.css('[data-testid=\"create-event-title-input\"] input')\n  ),\n  5000\n);\nawait titleInput.sendKeys(\"Selenium Automation Event\");\n/* =======================\n   SUMMARY\n======================= */\nconst summaryInput = await driver.wait(\n  until.elementLocated(\n    By.css('[data-testid=\"create-event-summary-input\"] textarea')\n  ),\n  5000\n);\nawait summaryInput.sendKeys(\n  \"This event is created using Selenium automation.\"\n);\n/* =======================\n   ANNOUNCEMENT CONTENT\n======================= */\nconst contentInput = await driver.wait(\n  until.elementLocated(\n    By.css('[data-testid=\"create-event-content-input\"] textarea')\n  ),\n  5000\n);\nawait contentInput.sendKeys(\n  \"Automation-based announcement content for testing.\"\n);\nconsole.log(\"âœï¸ Event text fields filled\");\n/* =======================\n   MANUAL DATE TIME PICKER\n======================= */\nconst scheduledAtInput = await driver.wait(\n  until.elementLocated(\n    By.css('[data-testid=\"create-event-scheduled-at-input\"] input')\n  ),\n  5000\n);\nawait driver.executeScript(\"arguments[0].click();\", scheduledAtInput);\nconsole.log(\"â± Please manually select Scheduled Date & Time...\");\nawait driver.sleep(10000); // manual selection\n/* =======================\n   TAG INPUT (ENTER KEY)\n======================= */\nconst tagInput = await driver.wait(\n  until.elementLocated(\n    By.css('[data-testid=\"create-event-tag-input\"] input')\n  ),\n  5000\n);\nawait tagInput.sendKeys(\"automation\", Key.ENTER);\nconsole.log(\"ðŸ·ï¸ Tag added\");\n/* =======================\n   SUBMIT\n======================= */\nconst submitBtn = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"create-event-submit-button\"]')),\n  10000\n);\nawait driver.wait(until.elementIsEnabled(submitBtn), 10000);\nawait submitBtn.click();\nconsole.log(\"ðŸš€ Create button clicked\");\n/* =======================\n   SUCCESS SNACKBAR\n======================= */\nconst snackbar = await driver.wait(\n  until.elementLocated(\n    By.css('[data-testid=\"create-event-snackbar-alert\"]')\n  ),\n  15000\n);\nawait driver.wait(until.elementIsVisible(snackbar), 5000);\nconst snackbarText = await snackbar.getText();\nassert.ok(\n  snackbarText.toLowerCase().includes(\"success\"),\n  \"Success snackbar not shown\"\n);\nconsole.log(\"âœ… Event created successfully\");\n/* =======================\n   DIALOG CLOSED\n======================= */\nawait driver.wait(until.stalenessOf(dialog), 15000);",
              "err": {},
              "uuid": "8637189e-bf88-44c8-8868-0d5f2c168a5d",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should find the newly created event when filtering with Channel = All",
              "fullTitle": "Events Tab UI test should find the newly created event when filtering with Channel = All",
              "timedOut": false,
              "duration": 1032,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const CREATED_EVENT_TITLE = \"Selenium Automation Event\";\nconsole.log(\"ðŸ§ª Verifying created event exists in All channel\");\n/* ---------- Select Channel = All ---------- */\nconst channelSelect = await driver.findElement(\nBy.css('[data-testid=\"events-channel-select\"]')\n);\nawait channelSelect.click(); // normal click works better for MUI\n\nconst allOption = await driver.findElement(\nBy.css('[data-testid=\"events-channel-all\"]')\n);\nawait allOption.click();\n\nconsole.log(\"âœ… Channel filter set to ALL\");\n\n/* ---------- Click Fetch Events ---------- */\nconst fetchButton = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"events-fetch-button\"]')),\n  10000\n);\nawait fetchButton.click();\nconsole.log(\"ðŸš€ Fetch Events clicked\");\n/* ---------- Wait for fetch completion ---------- */\nawait driver.wait(async () => {\n  const loading = await driver.findElements(\n    By.css('[data-testid=\"events-loading\"]')\n  );\n  return loading.length === 0;\n}, 15000);\n/* ---------- Collect event titles ---------- */\nconst eventTitles = await driver.findElements(\n  By.css('[data-testid^=\"event-title-\"]')\n);\nlet found = false;\nfor (const titleEl of eventTitles) {\n  const text = await titleEl.getText();\n  if (text === CREATED_EVENT_TITLE) {\n    found = true;\n    console.log(\"ðŸŽ¯ Created event found:\", text);\n    break;\n  }\n}\nassert.ok(\n  found,\n  `Created event \"${CREATED_EVENT_TITLE}\" not found in events list`\n);\nconsole.log(\"âœ… Created event verified successfully\");",
              "err": {},
              "uuid": "5e8ace1c-c705-4620-acb1-5c282d1a828d",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should open the event details dialog for the verified event and close it",
              "fullTitle": "Events Tab UI test should open the event details dialog for the verified event and close it",
              "timedOut": false,
              "duration": 818,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const CREATED_EVENT_TITLE = \"Selenium Automation Event\";\nconsole.log(\"ðŸ§ª Clicking on the verified event to view details\");\n// Wait for events to be loaded\nawait driver.wait(\n  until.elementsLocated(By.css('[data-testid^=\"event-title-\"]')),\n  10000\n);\nconst eventTitles = await driver.findElements(\n  By.css('[data-testid^=\"event-title-\"]')\n);\nlet targetEvent;\nfor (const titleEl of eventTitles) {\n  const text = await titleEl.getText();\n  if (text === CREATED_EVENT_TITLE) {\n    targetEvent = titleEl;\n    break;\n  }\n}\nassert.ok(targetEvent, `Event \"${CREATED_EVENT_TITLE}\" not found to click`);\n// Click on the event card\nconst parentCard = await targetEvent.findElement(By.xpath('..'));\nawait parentCard.click();\nconsole.log(\"ðŸš€ Event clicked, waiting for details dialog...\");\n// Wait for EventDetailsDialog\nconst dialog = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"event-details-dialog\"]')),\n  10000\n);\nawait driver.wait(until.elementIsVisible(dialog), 5000);\nconst dialogTitle = await driver.findElement(\n  By.css('[data-testid=\"event-details-event-title\"]')\n);\nconst titleText = await dialogTitle.getText();\nassert.strictEqual(\n  titleText,\n  CREATED_EVENT_TITLE,\n  \"Event details title does not match\"\n);\nconsole.log(\"âœ… EventDetailsDialog opened successfully with correct title\");\n// Close the dialog\nconst closeBtn = await driver.findElement(\n  By.css('[data-testid=\"event-details-close-button\"]')\n);\nawait closeBtn.click();\nconsole.log(\"âœ… Event Details dialog closed successfully\");",
              "err": {},
              "uuid": "50c2b90d-3434-46c0-a150-d159a410516e",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should edit the created event's summary successfully",
              "fullTitle": "Events Tab UI test should edit the created event's summary successfully",
              "timedOut": false,
              "duration": 4252,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const CREATED_EVENT_TITLE = \"Selenium Automation Event\";\nconst NEW_SUMMARY = \"Updated summary via Selenium test\";\nconsole.log(\"ðŸ§ª Editing the created event summary\");\n// Wait for event titles to load\nawait driver.wait(\n  until.elementsLocated(By.css('[data-testid^=\"event-title-\"]')),\n  10000\n);\n// Find the target event\nconst eventTitles = await driver.findElements(\n  By.css('[data-testid^=\"event-title-\"]')\n);\nlet targetEvent;\nfor (const titleEl of eventTitles) {\n  const text = await titleEl.getText();\n  if (text === CREATED_EVENT_TITLE) {\n    targetEvent = titleEl;\n    break;\n  }\n}\nassert.ok(targetEvent, `Event \"${CREATED_EVENT_TITLE}\" not found to edit`);\n// Click the event to open details\nconst parentCard = await targetEvent.findElement(By.xpath('..'));\nawait driver.wait(until.elementIsVisible(parentCard), 5000);\nawait parentCard.click();\nconsole.log(\"ðŸš€ Event clicked, waiting for EventDetailsDialog...\");\nconst detailsDialog = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"event-details-dialog\"]')),\n  10000\n);\nawait driver.wait(until.elementIsVisible(detailsDialog), 5000);\n// Click Edit button\nconst editBtn = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"event-details-edit-button\"]')),\n  5000\n);\nawait driver.wait(until.elementIsVisible(editBtn), 5000);\nawait driver.wait(until.elementIsEnabled(editBtn), 5000);\nawait editBtn.click();\nconsole.log(\"âœï¸ Edit button clicked, waiting for EditEventDialog...\");\n// Wait for EditEventDialog to appear\nconst editDialog = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"edit-event-dialog\"]')),\n  10000\n);\nawait driver.wait(until.elementIsVisible(editDialog), 5000);\n// -----------------------\n// Focus and type into summary field\n// -----------------------\nconst summaryInput = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"edit-event-summary-input\"]')),\n  5000\n);\nawait driver.wait(until.elementIsVisible(summaryInput), 5000);\nawait driver.wait(until.elementIsEnabled(summaryInput), 5000);\n// Use Actions to focus and select existing value\nawait driver.actions({ bridge: true })\n  .move({ origin: summaryInput })\n  .click()\n  .keyDown(Key.CONTROL)\n  .sendKeys(\"a\")   // select all\n  .keyUp(Key.CONTROL)\n  .sendKeys(Key.BACK_SPACE) // delete existing text\n  .sendKeys(NEW_SUMMARY)\n  .perform();\nconsole.log(`ðŸ“ Summary updated to: \"${NEW_SUMMARY}\"`);\n// Click Update button\nconst updateBtn = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"edit-event-submit-button\"]')),\n  5000\n);\nawait driver.wait(until.elementIsEnabled(updateBtn), 5000);\nawait updateBtn.click();\nconsole.log(\"ðŸš€ Update button clicked, waiting for success snackbar...\");\n// Wait for success snackbar (robust)\nconst snackbar = await driver.wait(async () => {\n  const elements = await driver.findElements(By.css('[data-testid=\"event-details-snackbar-alert\"]'));\n  if (elements.length === 0) return false;\n  const text = await elements[0].getText();\n  return text.toLowerCase().includes(\"success\") ? elements[0] : false;\n}, 10000);\nconsole.log(\"âœ… Snackbar detected with success message\");\n// Close EventDetailsDialog\nconst closeBtn = await driver.findElement(\n  By.css('[data-testid=\"event-details-close-button\"]')\n);\nawait closeBtn.click();\nconsole.log(\"âœ… Event details dialog closed after editing\");",
              "err": {},
              "uuid": "c9e3dc36-af4c-4b94-b19f-6c85248205e8",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should find the created event in Event Confirmations tab",
              "fullTitle": "Events Tab UI test should find the created event in Event Confirmations tab",
              "timedOut": false,
              "duration": 1217,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const CREATED_EVENT_TITLE = \"Selenium Automation Event\";\nconsole.log(\"ðŸ§ª Switching to Event Confirmations tab\");\n/* ---------- Click Event Confirmations tab ---------- */\nconst confirmTab = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"tab-confirm-events\"]')),\n  10000\n);\nawait confirmTab.click();\n/* ---------- Wait for tab content ---------- */\nconst container = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"draft-events-container\"]')),\n  10000\n);\nconsole.log(\"âœ… Event Confirmations tab loaded\");\n/* ---------- Wait until loading ends ---------- */\nawait driver.wait(async () => {\n  const loaders = await driver.findElements(\n    By.css('[data-testid=\"draft-events-loading\"]')\n  );\n  return loaders.length === 0;\n}, 15000);\n/* ---------- Collect draft event cards ---------- */\nconst draftEvents = await driver.findElements(\n  By.css('[data-testid^=\"draft-event-\"]')\n);\nlet found = false;\nfor (const eventCard of draftEvents) {\n  const cardText = await eventCard.getText();\n  if (cardText.includes(CREATED_EVENT_TITLE)) {\n    found = true;\n    console.log(\"ðŸŽ¯ Created event found in confirmations tab\");\n    break;\n  }\n}\nassert.ok(\n  found,\n  `Created event \"${CREATED_EVENT_TITLE}\" not found in Event Confirmations tab`\n);\nconsole.log(\"âœ… Created event verified in Event Confirmations tab\");",
              "err": {},
              "uuid": "8f5ab839-ab1a-4a82-b3a8-f135519b179e",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should approve the created event with Email channel",
              "fullTitle": "Events Tab UI test should approve the created event with Email channel",
              "timedOut": false,
              "duration": 1625,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const CREATED_EVENT_TITLE = \"Selenium Automation Event\";\nconsole.log(\"ðŸ§ª Approving created event with Email channel\");\n/* ---------- Ensure Confirmations tab is active ---------- */\nconst container = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"draft-events-container\"]')),\n  10000\n);\n/* ---------- Wait until loading ends ---------- */\nawait driver.wait(async () => {\n  const loaders = await driver.findElements(\n    By.css('[data-testid=\"draft-events-loading\"]')\n  );\n  return loaders.length === 0;\n}, 15000);\n/* ---------- Find the created draft event ---------- */\nconst draftEvents = await driver.findElements(\n  By.css('[data-testid^=\"draft-event-\"]')\n);\nlet targetEventId = null;\nfor (const eventCard of draftEvents) {\n  const cardText = await eventCard.getText();\n  if (cardText.includes(CREATED_EVENT_TITLE)) {\n    const testId = await eventCard.getAttribute(\"data-testid\");\n    targetEventId = testId.split(\"draft-event-\")[1];\n    break;\n  }\n}\nassert.ok(\n  targetEventId,\n  `Created event \"${CREATED_EVENT_TITLE}\" not found to approve`\n);\nconsole.log(\"ðŸŽ¯ Target event ID:\", targetEventId);\n/* ---------- Click Approve button ---------- */\nconst approveBtn = await driver.findElement(\n  By.css(`[data-testid=\"draft-event-approve-${targetEventId}\"]`)\n);\nawait driver.wait(until.elementIsVisible(approveBtn), 5000);\nawait driver.wait(until.elementIsEnabled(approveBtn), 5000);\nawait approveBtn.click();\nconsole.log(\"âœ… Approve button clicked\");\n/* ---------- Wait for channel dialog ---------- */\nconst channelDialog = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"draft-event-channel-dialog\"]')),\n  10000\n);\nawait driver.wait(until.elementIsVisible(channelDialog), 5000);\nconsole.log(\"ðŸ“¡ Channel selection dialog opened\");\n/* ---------- Select Email channel ---------- */\nconst emailRadio = await driver.findElement(\n  By.css('[data-testid=\"draft-event-channel-email\"]')\n);\nawait emailRadio.click();\nconsole.log(\"ðŸ“§ Email channel selected\");\n/* ---------- Confirm approval ---------- */\nconst confirmBtn = await driver.findElement(\n  By.css('[data-testid=\"draft-event-channel-confirm-button\"]')\n);\nawait driver.wait(until.elementIsEnabled(confirmBtn), 5000);\nawait confirmBtn.click();\nconsole.log(\"ðŸš€ Approval confirmed\");\n/* ---------- Wait for success snackbar ---------- */\nconst snackbar = await driver.wait(async () => {\n  const alerts = await driver.findElements(\n    By.css('[data-testid=\"draft-events-snackbar-alert\"]')\n  );\n  if (alerts.length === 0) return false;\n  const text = await alerts[0].getText();\n  return text.toLowerCase().includes(\"approved\") ? alerts[0] : false;\n}, 10000);\nconsole.log(\"âœ… Approval success snackbar shown\");\n/* ---------- Verify event removed from draft list (STALE-SAFE) ---------- */\nawait driver.wait(async () => {\nconst cards = await driver.findElements(\n  By.css('[data-testid^=\"draft-event-\"]')\n);\n// No cards at all = definitely removed\nif (cards.length === 0) return true;\nfor (const card of cards) {\n  try {\n    const text = await card.getText();\n    if (text.includes(CREATED_EVENT_TITLE)) {\n      return false;\n    }\n  } catch (err) {\n    // Ignore stale elements during re-render\n    return true;\n  }\n}\nreturn true;\n}, 10000);\n\nconsole.log(\"ðŸŽ‰ Event approved and removed from draft list\");",
              "err": {},
              "uuid": "e3f0a897-c79a-4d10-9d75-8352980a087e",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should send the approved event successfully",
              "fullTitle": "Events Tab UI test should send the approved event successfully",
              "timedOut": false,
              "duration": 1008,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const CREATED_EVENT_TITLE = \"Selenium Automation Event\";\nconsole.log(\"ðŸ§ª Switching to Broadcast Events tab\");\n/* ---------- Click Broadcast Events tab ---------- */\nconst broadcastTab = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"tab-broadcast-events\"]')),\n  10000\n);\nawait broadcastTab.click();\n/* ---------- Wait for Broadcast Events container ---------- */\nconst container = await driver.wait(\n  until.elementLocated(By.css('[data-testid=\"send-events-container\"]')),\n  10000\n);\nconsole.log(\"âœ… Broadcast Events tab loaded\");\n/* ---------- Wait for loading to finish ---------- */\nawait driver.wait(async () => {\n  const spinners = await driver.findElements(By.css(\".MuiCircularProgress-root\"));\n  return spinners.length === 0;\n}, 15000);\n/* ---------- Find approved event ---------- */\nconst eventCards = await driver.findElements(\n  By.css('[data-testid^=\"send-event-card-\"]')\n);\nlet targetEventId = null;\nfor (const card of eventCards) {\n  const text = await card.getText();\n  if (text.includes(CREATED_EVENT_TITLE)) {\n    const testId = await card.getAttribute(\"data-testid\");\n    targetEventId = testId.replace(\"send-event-card-\", \"\");\n    break;\n  }\n}\nassert.ok(\n  targetEventId,\n  `Approved event \"${CREATED_EVENT_TITLE}\" not found in Broadcast Events tab`\n);\nconsole.log(\"ðŸŽ¯ Approved event found with ID:\", targetEventId);\n/* ---------- Click Send button ---------- */\nconst sendBtn = await driver.findElement(\n  By.css(`[data-testid=\"send-event-button-${targetEventId}\"]`)\n);\nawait driver.wait(until.elementIsVisible(sendBtn), 5000);\nawait driver.wait(until.elementIsEnabled(sendBtn), 5000);\nawait sendBtn.click();\nconsole.log(\"ðŸš€ Send button clicked\");\n/* ---------- Wait for success snackbar ---------- */\nconst snackbar = await driver.wait(async () => {\n  const alerts = await driver.findElements(\n    By.css('[data-testid=\"send-events-snackbar-alert\"]')\n  );\n  if (alerts.length === 0) return false;\n  const text = await alerts[0].getText();\n  return text.toLowerCase().includes(\"sent\") ? alerts[0] : false;\n}, 10000);\nconsole.log(\"âœ… Send success snackbar shown\");\n/* ---------- Verify button is disabled / marked as Sent ---------- */\nawait driver.wait(async () => {\n  const btn = await driver.findElement(\n    By.css(`[data-testid=\"send-event-button-${targetEventId}\"]`)\n  );\n  const disabled = await btn.getAttribute(\"disabled\");\n  const label = await btn.getText();\n  return disabled !== null || label.toLowerCase().includes(\"sent\");\n}, 10000);\nconsole.log(\"ðŸŽ‰ Event successfully sent and marked as Sent\");",
              "err": {},
              "uuid": "64cb60ee-0bb6-492e-8f4b-99266577c554",
              "parentUUID": "af0d0674-edef-49f0-9d56-38d02d0ed302",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "7436384f-59c8-46b1-b6c2-3010659c843e",
            "f1223ff0-637b-4a0b-b020-bea3122140a2",
            "6c5d7aa0-9dd1-4e18-b40f-d0ca0ad9e11f",
            "8637189e-bf88-44c8-8868-0d5f2c168a5d",
            "5e8ace1c-c705-4620-acb1-5c282d1a828d",
            "50c2b90d-3434-46c0-a150-d159a410516e",
            "c9e3dc36-af4c-4b94-b19f-6c85248205e8",
            "8f5ab839-ab1a-4a82-b3a8-f135519b179e",
            "e3f0a897-c79a-4d10-9d75-8352980a087e",
            "64cb60ee-0bb6-492e-8f4b-99266577c554"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 43338,
          "root": false,
          "rootEmpty": false,
          "_timeout": 90000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 60000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.4"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": null,
      "version": "6.3.0"
    }
  }
}