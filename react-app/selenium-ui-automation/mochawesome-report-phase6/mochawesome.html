<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:10,&quot;passes&quot;:10,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-12-19T09:02:51.799Z&quot;,&quot;end&quot;:&quot;2025-12-19T09:03:42.252Z&quot;,&quot;duration&quot;:50453,&quot;testsRegistered&quot;:10,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;78490dc6-38ca-492b-a224-5d1be27d8300&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\phase6\\eventsTab1.test.js&quot;,&quot;file&quot;:&quot;\\tests\\phase6\\eventsTab1.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;title&quot;:&quot;Events Tab UI test&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\phase6\\eventsTab1.test.js&quot;,&quot;file&quot;:&quot;\\tests\\phase6\\eventsTab1.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Events Tab UI test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test \&quot;before all\&quot; hook in \&quot;Events Tab UI test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6650,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = new chrome.Options();\noptions.addArguments(\&quot;--start-maximized\&quot;);\ndriver = await new Builder()\n  .forBrowser(\&quot;chrome\&quot;)\n  .setChromeOptions(options)\n  .build();\nconsole.log(\&quot;ðŸš€ Opening dashboard...\&quot;);\nawait driver.get(DASHBOARD_URL);\n// Inject valid Admin token manually\nawait driver.executeScript(\n  `window.localStorage.setItem(&#x27;token&#x27;, &#x27;${ACCESS_TOKEN}&#x27;);`\n);\nawait driver.navigate().refresh();\n// Wait until dashboard sidebar appears\nawait driver.wait(until.elementLocated(By.id(\&quot;dashboard-side-panel\&quot;)), 30000);\nconst title = await driver.findElement(By.id(\&quot;dashboard-title\&quot;)).getText();\nassert.ok(title.includes(\&quot;Admin Portal\&quot;), \&quot;Admin Portal title missing\&quot;);\nconsole.log(\&quot;âœ… Dashboard loaded successfully as Admin\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc14bd71-77e9-486f-bb2b-4d15504dceea&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Events Tab UI test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test \&quot;after all\&quot; hook in \&quot;Events Tab UI test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:432,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n  console.log(\&quot;ðŸš€ Closing browser...\&quot;);\n  await driver.quit(); // closes all tabs and ends session\n  }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31eabddd-c2c0-43b6-b59f-62c989a6c9f0&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should navigate to Events &amp; Announcements page&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should navigate to Events &amp; Announcements page&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:692,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const feedbackNav = await driver.findElement(\n  By.id(\&quot;nav-eventsAnnouncements\&quot;)\n);\nawait feedbackNav.click();\nconst pageTitle = await driver.wait(\n  until.elementLocated(By.id(\&quot;events-announcements-title\&quot;)),\n  10000\n);\nassert.strictEqual(await pageTitle.getText(), \&quot;Events &amp; Announcements\&quot;);\nconsole.log(\&quot;âœ… Events &amp; Announcements page loaded\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7436384f-59c8-46b1-b6c2-3010659c843e&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter events by channel and date and fetch results&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should filter events by channel and date and fetch results&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9628,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(\&quot;ðŸ§ª Verifying default Events tab...\&quot;);\n/* ---------- Confirm first tab is active ---------- */\nconst eventsTab = await driver.findElement(By.id(\&quot;tab-events\&quot;));\nconst tabSelected = await eventsTab.getAttribute(\&quot;aria-selected\&quot;);\nassert.strictEqual(tabSelected, \&quot;true\&quot;, \&quot;Events tab is not active by default\&quot;);\nconsole.log(\&quot;âœ… &#x27;Create &amp; Update Events&#x27; tab is active\&quot;);\n/* ---------- Confirm EventsTab content ---------- */\nawait driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;events-container\&quot;]&#x27;)),\n  10000\n);\nconsole.log(\&quot;âœ… EventsTab component loaded\&quot;);\n/* ---------- Select Channel = Email ---------- */\nconst channelSelect = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;events-channel-select\&quot;]&#x27;)\n);\nawait channelSelect.click();\nconst emailOption = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;events-channel-email\&quot;]&#x27;)\n);\nawait emailOption.click();\nconsole.log(\&quot;âœ… Channel filter set to EMAIL\&quot;);\n/* ---------- Manual Since Date Selection ---------- */\nconst sinceDatePicker = await driver.findElement(\nBy.css(&#x27;[data-testid=\&quot;events-since-date\&quot;]&#x27;)\n);\n\n// Force click using JS (safe for MUI)\nawait driver.executeScript(\n\&quot;arguments[0].scrollIntoView({behavior: &#x27;smooth&#x27;, block: &#x27;center&#x27;});\&quot;,\nsinceDatePicker\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, sinceDatePicker);\n\nconsole.log(\&quot;â± Please manually select the SINCE date in the calendar...\&quot;);\nawait driver.sleep(8000); // wait for manual selection\n\n/* ---------- Click Fetch Events ---------- */\nconst fetchButton = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;events-fetch-button\&quot;]&#x27;)\n);\nawait fetchButton.click();\nconsole.log(\&quot;ðŸš€ Fetch Events clicked\&quot;);\n/* ---------- Validate Fetch Result ---------- */\nawait driver.wait(async () =&gt; {\n  const loading = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;events-loading\&quot;]&#x27;)\n  );\n  const cards = await driver.findElements(\n    By.css(&#x27;[data-testid^=\&quot;event-card-\&quot;]&#x27;)\n  );\n  const empty = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;events-empty\&quot;]&#x27;)\n  );\n  return loading.length &gt; 0 || cards.length &gt; 0 || empty.length &gt; 0;\n}, 15000);\nconsole.log(\&quot;âœ… Events fetch completed\&quot;);\n/* ---------- Final Assertion ---------- */\nconst eventCards = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;event-card-\&quot;]&#x27;)\n);\nif (eventCards.length &gt; 0) {\n  console.log(`âœ… ${eventCards.length} event(s) displayed`);\n  assert.ok(eventCards.length &gt;= 1);\n} else {\n  const emptyText = await driver.findElement(\n    By.css(&#x27;[data-testid=\&quot;events-empty\&quot;]&#x27;)\n  );\n  assert.strictEqual(\n    await emptyText.getText(),\n    \&quot;No events found.\&quot;\n  );\n  console.log(\&quot;â„¹ï¸ No events found for selected filters\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1223ff0-637b-4a0b-b020-bea3122140a2&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should open event details dialog when clicking an event and close it&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should open event details dialog when clicking an event and close it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1650,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(\&quot;ðŸ§ª Clicking first fetched event...\&quot;);\n/* ---------- Wait for at least one event card ---------- */\nconst firstEventCard = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid^=\&quot;event-card-\&quot;]&#x27;)),\n  15000\n);\nawait driver.executeScript(\n  \&quot;arguments[0].scrollIntoView({behavior: &#x27;smooth&#x27;, block: &#x27;center&#x27;});\&quot;,\n  firstEventCard\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, firstEventCard);\nconsole.log(\&quot;âœ… Event card clicked\&quot;);\n/* ---------- Wait for dialog to open ---------- */\nconst dialog = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;event-details-dialog\&quot;]&#x27;)),\n  10000\n);\nassert.ok(await dialog.isDisplayed(), \&quot;Event details dialog not visible\&quot;);\nconsole.log(\&quot;âœ… Event Details dialog opened\&quot;);\n/* ---------- Handle loading state ---------- */\nawait driver.wait(async () =&gt; {\n  const loaders = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;event-details-loading\&quot;]&#x27;)\n  );\n  return loaders.length === 0;\n}, 15000);\nconsole.log(\&quot;âœ… Event details loaded\&quot;);\n/* ---------- Validate essential content ---------- */\nconst title = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;event-details-event-title\&quot;]&#x27;)\n);\nconst summary = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;event-details-event-summary\&quot;]&#x27;)\n);\nassert.ok(await title.getText(), \&quot;Event title missing\&quot;);\nassert.ok(await summary.getText(), \&quot;Event summary missing\&quot;);\nconsole.log(\&quot;ðŸ“„ Event Title:\&quot;, await title.getText());\n/* ---------- Close dialog ---------- */\nconst closeButton = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;event-details-close-button\&quot;]&#x27;)\n);\nawait closeButton.click();\nconsole.log(\&quot;âŒ Close button clicked\&quot;);\n/* ---------- Confirm dialog is closed ---------- */\nawait driver.wait(\n  until.stalenessOf(dialog),\n  10000\n);\nconsole.log(\&quot;âœ… Event Details dialog closed successfully\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c5d7aa0-9dd1-4e18-b40f-d0ca0ad9e11f&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new event successfully&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should create a new event successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21416,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(\&quot;ðŸ§ª Creating a new event...\&quot;);\n/* ---------- Confirm first tab is active ---------- */\nconst eventsTab = await driver.findElement(By.id(\&quot;tab-events\&quot;));\nconst tabSelected = await eventsTab.getAttribute(\&quot;aria-selected\&quot;);\nassert.strictEqual(tabSelected, \&quot;true\&quot;, \&quot;Events tab is not active by default\&quot;);\nconsole.log(\&quot;âœ… &#x27;Create &amp; Update Events&#x27; tab is active\&quot;);\n/* =======================\n   OPEN CREATE DIALOG\n======================= */\nconst addButton = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;events-add-button\&quot;]&#x27;)),\n  10000\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, addButton);\nconst dialog = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;create-event-dialog\&quot;]&#x27;)),\n  10000\n);\nawait driver.wait(until.elementIsVisible(dialog), 10000);\nconsole.log(\&quot;âœ… Create Event dialog opened\&quot;);\n/* =======================\n   TITLE (IMPORTANT FIX)\n======================= */\nconst titleInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;create-event-title-input\&quot;] input&#x27;)\n  ),\n  5000\n);\nawait titleInput.sendKeys(\&quot;Selenium Automation Event\&quot;);\n/* =======================\n   SUMMARY\n======================= */\nconst summaryInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;create-event-summary-input\&quot;] textarea&#x27;)\n  ),\n  5000\n);\nawait summaryInput.sendKeys(\n  \&quot;This event is created using Selenium automation.\&quot;\n);\n/* =======================\n   ANNOUNCEMENT CONTENT\n======================= */\nconst contentInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;create-event-content-input\&quot;] textarea&#x27;)\n  ),\n  5000\n);\nawait contentInput.sendKeys(\n  \&quot;Automation-based announcement content for testing.\&quot;\n);\nconsole.log(\&quot;âœï¸ Event text fields filled\&quot;);\n/* =======================\n   MANUAL DATE TIME PICKER\n======================= */\nconst scheduledAtInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;create-event-scheduled-at-input\&quot;] input&#x27;)\n  ),\n  5000\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, scheduledAtInput);\nconsole.log(\&quot;â± Please manually select Scheduled Date &amp; Time...\&quot;);\nawait driver.sleep(10000); // manual selection\n/* =======================\n   TAG INPUT (ENTER KEY)\n======================= */\nconst tagInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;create-event-tag-input\&quot;] input&#x27;)\n  ),\n  5000\n);\nawait tagInput.sendKeys(\&quot;automation\&quot;, Key.ENTER);\nconsole.log(\&quot;ðŸ·ï¸ Tag added\&quot;);\n/* =======================\n   SUBMIT\n======================= */\nconst submitBtn = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;create-event-submit-button\&quot;]&#x27;)),\n  10000\n);\nawait driver.wait(until.elementIsEnabled(submitBtn), 10000);\nawait submitBtn.click();\nconsole.log(\&quot;ðŸš€ Create button clicked\&quot;);\n/* =======================\n   SUCCESS SNACKBAR\n======================= */\nconst snackbar = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;create-event-snackbar-alert\&quot;]&#x27;)\n  ),\n  15000\n);\nawait driver.wait(until.elementIsVisible(snackbar), 5000);\nconst snackbarText = await snackbar.getText();\nassert.ok(\n  snackbarText.toLowerCase().includes(\&quot;success\&quot;),\n  \&quot;Success snackbar not shown\&quot;\n);\nconsole.log(\&quot;âœ… Event created successfully\&quot;);\n/* =======================\n   DIALOG CLOSED\n======================= */\nawait driver.wait(until.stalenessOf(dialog), 15000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8637189e-bf88-44c8-8868-0d5f2c168a5d&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find the newly created event when filtering with Channel = All&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should find the newly created event when filtering with Channel = All&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1032,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const CREATED_EVENT_TITLE = \&quot;Selenium Automation Event\&quot;;\nconsole.log(\&quot;ðŸ§ª Verifying created event exists in All channel\&quot;);\n/* ---------- Select Channel = All ---------- */\nconst channelSelect = await driver.findElement(\nBy.css(&#x27;[data-testid=\&quot;events-channel-select\&quot;]&#x27;)\n);\nawait channelSelect.click(); // normal click works better for MUI\n\nconst allOption = await driver.findElement(\nBy.css(&#x27;[data-testid=\&quot;events-channel-all\&quot;]&#x27;)\n);\nawait allOption.click();\n\nconsole.log(\&quot;âœ… Channel filter set to ALL\&quot;);\n\n/* ---------- Click Fetch Events ---------- */\nconst fetchButton = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;events-fetch-button\&quot;]&#x27;)),\n  10000\n);\nawait fetchButton.click();\nconsole.log(\&quot;ðŸš€ Fetch Events clicked\&quot;);\n/* ---------- Wait for fetch completion ---------- */\nawait driver.wait(async () =&gt; {\n  const loading = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;events-loading\&quot;]&#x27;)\n  );\n  return loading.length === 0;\n}, 15000);\n/* ---------- Collect event titles ---------- */\nconst eventTitles = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;event-title-\&quot;]&#x27;)\n);\nlet found = false;\nfor (const titleEl of eventTitles) {\n  const text = await titleEl.getText();\n  if (text === CREATED_EVENT_TITLE) {\n    found = true;\n    console.log(\&quot;ðŸŽ¯ Created event found:\&quot;, text);\n    break;\n  }\n}\nassert.ok(\n  found,\n  `Created event \&quot;${CREATED_EVENT_TITLE}\&quot; not found in events list`\n);\nconsole.log(\&quot;âœ… Created event verified successfully\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e8ace1c-c705-4620-acb1-5c282d1a828d&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should open the event details dialog for the verified event and close it&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should open the event details dialog for the verified event and close it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:818,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const CREATED_EVENT_TITLE = \&quot;Selenium Automation Event\&quot;;\nconsole.log(\&quot;ðŸ§ª Clicking on the verified event to view details\&quot;);\n// Wait for events to be loaded\nawait driver.wait(\n  until.elementsLocated(By.css(&#x27;[data-testid^=\&quot;event-title-\&quot;]&#x27;)),\n  10000\n);\nconst eventTitles = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;event-title-\&quot;]&#x27;)\n);\nlet targetEvent;\nfor (const titleEl of eventTitles) {\n  const text = await titleEl.getText();\n  if (text === CREATED_EVENT_TITLE) {\n    targetEvent = titleEl;\n    break;\n  }\n}\nassert.ok(targetEvent, `Event \&quot;${CREATED_EVENT_TITLE}\&quot; not found to click`);\n// Click on the event card\nconst parentCard = await targetEvent.findElement(By.xpath(&#x27;..&#x27;));\nawait parentCard.click();\nconsole.log(\&quot;ðŸš€ Event clicked, waiting for details dialog...\&quot;);\n// Wait for EventDetailsDialog\nconst dialog = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;event-details-dialog\&quot;]&#x27;)),\n  10000\n);\nawait driver.wait(until.elementIsVisible(dialog), 5000);\nconst dialogTitle = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;event-details-event-title\&quot;]&#x27;)\n);\nconst titleText = await dialogTitle.getText();\nassert.strictEqual(\n  titleText,\n  CREATED_EVENT_TITLE,\n  \&quot;Event details title does not match\&quot;\n);\nconsole.log(\&quot;âœ… EventDetailsDialog opened successfully with correct title\&quot;);\n// Close the dialog\nconst closeBtn = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;event-details-close-button\&quot;]&#x27;)\n);\nawait closeBtn.click();\nconsole.log(\&quot;âœ… Event Details dialog closed successfully\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50c2b90d-3434-46c0-a150-d159a410516e&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should edit the created event&#x27;s summary successfully&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should edit the created event&#x27;s summary successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const CREATED_EVENT_TITLE = \&quot;Selenium Automation Event\&quot;;\nconst NEW_SUMMARY = \&quot;Updated summary via Selenium test\&quot;;\nconsole.log(\&quot;ðŸ§ª Editing the created event summary\&quot;);\n// Wait for event titles to load\nawait driver.wait(\n  until.elementsLocated(By.css(&#x27;[data-testid^=\&quot;event-title-\&quot;]&#x27;)),\n  10000\n);\n// Find the target event\nconst eventTitles = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;event-title-\&quot;]&#x27;)\n);\nlet targetEvent;\nfor (const titleEl of eventTitles) {\n  const text = await titleEl.getText();\n  if (text === CREATED_EVENT_TITLE) {\n    targetEvent = titleEl;\n    break;\n  }\n}\nassert.ok(targetEvent, `Event \&quot;${CREATED_EVENT_TITLE}\&quot; not found to edit`);\n// Click the event to open details\nconst parentCard = await targetEvent.findElement(By.xpath(&#x27;..&#x27;));\nawait driver.wait(until.elementIsVisible(parentCard), 5000);\nawait parentCard.click();\nconsole.log(\&quot;ðŸš€ Event clicked, waiting for EventDetailsDialog...\&quot;);\nconst detailsDialog = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;event-details-dialog\&quot;]&#x27;)),\n  10000\n);\nawait driver.wait(until.elementIsVisible(detailsDialog), 5000);\n// Click Edit button\nconst editBtn = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;event-details-edit-button\&quot;]&#x27;)),\n  5000\n);\nawait driver.wait(until.elementIsVisible(editBtn), 5000);\nawait driver.wait(until.elementIsEnabled(editBtn), 5000);\nawait editBtn.click();\nconsole.log(\&quot;âœï¸ Edit button clicked, waiting for EditEventDialog...\&quot;);\n// Wait for EditEventDialog to appear\nconst editDialog = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;edit-event-dialog\&quot;]&#x27;)),\n  10000\n);\nawait driver.wait(until.elementIsVisible(editDialog), 5000);\n// -----------------------\n// Focus and type into summary field\n// -----------------------\nconst summaryInput = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;edit-event-summary-input\&quot;]&#x27;)),\n  5000\n);\nawait driver.wait(until.elementIsVisible(summaryInput), 5000);\nawait driver.wait(until.elementIsEnabled(summaryInput), 5000);\n// Use Actions to focus and select existing value\nawait driver.actions({ bridge: true })\n  .move({ origin: summaryInput })\n  .click()\n  .keyDown(Key.CONTROL)\n  .sendKeys(\&quot;a\&quot;)   // select all\n  .keyUp(Key.CONTROL)\n  .sendKeys(Key.BACK_SPACE) // delete existing text\n  .sendKeys(NEW_SUMMARY)\n  .perform();\nconsole.log(`ðŸ“ Summary updated to: \&quot;${NEW_SUMMARY}\&quot;`);\n// Click Update button\nconst updateBtn = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;edit-event-submit-button\&quot;]&#x27;)),\n  5000\n);\nawait driver.wait(until.elementIsEnabled(updateBtn), 5000);\nawait updateBtn.click();\nconsole.log(\&quot;ðŸš€ Update button clicked, waiting for success snackbar...\&quot;);\n// Wait for success snackbar (robust)\nconst snackbar = await driver.wait(async () =&gt; {\n  const elements = await driver.findElements(By.css(&#x27;[data-testid=\&quot;event-details-snackbar-alert\&quot;]&#x27;));\n  if (elements.length === 0) return false;\n  const text = await elements[0].getText();\n  return text.toLowerCase().includes(\&quot;success\&quot;) ? elements[0] : false;\n}, 10000);\nconsole.log(\&quot;âœ… Snackbar detected with success message\&quot;);\n// Close EventDetailsDialog\nconst closeBtn = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;event-details-close-button\&quot;]&#x27;)\n);\nawait closeBtn.click();\nconsole.log(\&quot;âœ… Event details dialog closed after editing\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9e3dc36-af4c-4b94-b19f-6c85248205e8&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find the created event in Event Confirmations tab&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should find the created event in Event Confirmations tab&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1217,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const CREATED_EVENT_TITLE = \&quot;Selenium Automation Event\&quot;;\nconsole.log(\&quot;ðŸ§ª Switching to Event Confirmations tab\&quot;);\n/* ---------- Click Event Confirmations tab ---------- */\nconst confirmTab = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;tab-confirm-events\&quot;]&#x27;)),\n  10000\n);\nawait confirmTab.click();\n/* ---------- Wait for tab content ---------- */\nconst container = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;draft-events-container\&quot;]&#x27;)),\n  10000\n);\nconsole.log(\&quot;âœ… Event Confirmations tab loaded\&quot;);\n/* ---------- Wait until loading ends ---------- */\nawait driver.wait(async () =&gt; {\n  const loaders = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;draft-events-loading\&quot;]&#x27;)\n  );\n  return loaders.length === 0;\n}, 15000);\n/* ---------- Collect draft event cards ---------- */\nconst draftEvents = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;draft-event-\&quot;]&#x27;)\n);\nlet found = false;\nfor (const eventCard of draftEvents) {\n  const cardText = await eventCard.getText();\n  if (cardText.includes(CREATED_EVENT_TITLE)) {\n    found = true;\n    console.log(\&quot;ðŸŽ¯ Created event found in confirmations tab\&quot;);\n    break;\n  }\n}\nassert.ok(\n  found,\n  `Created event \&quot;${CREATED_EVENT_TITLE}\&quot; not found in Event Confirmations tab`\n);\nconsole.log(\&quot;âœ… Created event verified in Event Confirmations tab\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f5ab839-ab1a-4a82-b3a8-f135519b179e&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should approve the created event with Email channel&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should approve the created event with Email channel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1625,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const CREATED_EVENT_TITLE = \&quot;Selenium Automation Event\&quot;;\nconsole.log(\&quot;ðŸ§ª Approving created event with Email channel\&quot;);\n/* ---------- Ensure Confirmations tab is active ---------- */\nconst container = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;draft-events-container\&quot;]&#x27;)),\n  10000\n);\n/* ---------- Wait until loading ends ---------- */\nawait driver.wait(async () =&gt; {\n  const loaders = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;draft-events-loading\&quot;]&#x27;)\n  );\n  return loaders.length === 0;\n}, 15000);\n/* ---------- Find the created draft event ---------- */\nconst draftEvents = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;draft-event-\&quot;]&#x27;)\n);\nlet targetEventId = null;\nfor (const eventCard of draftEvents) {\n  const cardText = await eventCard.getText();\n  if (cardText.includes(CREATED_EVENT_TITLE)) {\n    const testId = await eventCard.getAttribute(\&quot;data-testid\&quot;);\n    targetEventId = testId.split(\&quot;draft-event-\&quot;)[1];\n    break;\n  }\n}\nassert.ok(\n  targetEventId,\n  `Created event \&quot;${CREATED_EVENT_TITLE}\&quot; not found to approve`\n);\nconsole.log(\&quot;ðŸŽ¯ Target event ID:\&quot;, targetEventId);\n/* ---------- Click Approve button ---------- */\nconst approveBtn = await driver.findElement(\n  By.css(`[data-testid=\&quot;draft-event-approve-${targetEventId}\&quot;]`)\n);\nawait driver.wait(until.elementIsVisible(approveBtn), 5000);\nawait driver.wait(until.elementIsEnabled(approveBtn), 5000);\nawait approveBtn.click();\nconsole.log(\&quot;âœ… Approve button clicked\&quot;);\n/* ---------- Wait for channel dialog ---------- */\nconst channelDialog = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;draft-event-channel-dialog\&quot;]&#x27;)),\n  10000\n);\nawait driver.wait(until.elementIsVisible(channelDialog), 5000);\nconsole.log(\&quot;ðŸ“¡ Channel selection dialog opened\&quot;);\n/* ---------- Select Email channel ---------- */\nconst emailRadio = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;draft-event-channel-email\&quot;]&#x27;)\n);\nawait emailRadio.click();\nconsole.log(\&quot;ðŸ“§ Email channel selected\&quot;);\n/* ---------- Confirm approval ---------- */\nconst confirmBtn = await driver.findElement(\n  By.css(&#x27;[data-testid=\&quot;draft-event-channel-confirm-button\&quot;]&#x27;)\n);\nawait driver.wait(until.elementIsEnabled(confirmBtn), 5000);\nawait confirmBtn.click();\nconsole.log(\&quot;ðŸš€ Approval confirmed\&quot;);\n/* ---------- Wait for success snackbar ---------- */\nconst snackbar = await driver.wait(async () =&gt; {\n  const alerts = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;draft-events-snackbar-alert\&quot;]&#x27;)\n  );\n  if (alerts.length === 0) return false;\n  const text = await alerts[0].getText();\n  return text.toLowerCase().includes(\&quot;approved\&quot;) ? alerts[0] : false;\n}, 10000);\nconsole.log(\&quot;âœ… Approval success snackbar shown\&quot;);\n/* ---------- Verify event removed from draft list (STALE-SAFE) ---------- */\nawait driver.wait(async () =&gt; {\nconst cards = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;draft-event-\&quot;]&#x27;)\n);\n// No cards at all = definitely removed\nif (cards.length === 0) return true;\nfor (const card of cards) {\n  try {\n    const text = await card.getText();\n    if (text.includes(CREATED_EVENT_TITLE)) {\n      return false;\n    }\n  } catch (err) {\n    // Ignore stale elements during re-render\n    return true;\n  }\n}\nreturn true;\n}, 10000);\n\nconsole.log(\&quot;ðŸŽ‰ Event approved and removed from draft list\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3f0a897-c79a-4d10-9d75-8352980a087e&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should send the approved event successfully&quot;,&quot;fullTitle&quot;:&quot;Events Tab UI test should send the approved event successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1008,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const CREATED_EVENT_TITLE = \&quot;Selenium Automation Event\&quot;;\nconsole.log(\&quot;ðŸ§ª Switching to Broadcast Events tab\&quot;);\n/* ---------- Click Broadcast Events tab ---------- */\nconst broadcastTab = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;tab-broadcast-events\&quot;]&#x27;)),\n  10000\n);\nawait broadcastTab.click();\n/* ---------- Wait for Broadcast Events container ---------- */\nconst container = await driver.wait(\n  until.elementLocated(By.css(&#x27;[data-testid=\&quot;send-events-container\&quot;]&#x27;)),\n  10000\n);\nconsole.log(\&quot;âœ… Broadcast Events tab loaded\&quot;);\n/* ---------- Wait for loading to finish ---------- */\nawait driver.wait(async () =&gt; {\n  const spinners = await driver.findElements(By.css(\&quot;.MuiCircularProgress-root\&quot;));\n  return spinners.length === 0;\n}, 15000);\n/* ---------- Find approved event ---------- */\nconst eventCards = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;send-event-card-\&quot;]&#x27;)\n);\nlet targetEventId = null;\nfor (const card of eventCards) {\n  const text = await card.getText();\n  if (text.includes(CREATED_EVENT_TITLE)) {\n    const testId = await card.getAttribute(\&quot;data-testid\&quot;);\n    targetEventId = testId.replace(\&quot;send-event-card-\&quot;, \&quot;\&quot;);\n    break;\n  }\n}\nassert.ok(\n  targetEventId,\n  `Approved event \&quot;${CREATED_EVENT_TITLE}\&quot; not found in Broadcast Events tab`\n);\nconsole.log(\&quot;ðŸŽ¯ Approved event found with ID:\&quot;, targetEventId);\n/* ---------- Click Send button ---------- */\nconst sendBtn = await driver.findElement(\n  By.css(`[data-testid=\&quot;send-event-button-${targetEventId}\&quot;]`)\n);\nawait driver.wait(until.elementIsVisible(sendBtn), 5000);\nawait driver.wait(until.elementIsEnabled(sendBtn), 5000);\nawait sendBtn.click();\nconsole.log(\&quot;ðŸš€ Send button clicked\&quot;);\n/* ---------- Wait for success snackbar ---------- */\nconst snackbar = await driver.wait(async () =&gt; {\n  const alerts = await driver.findElements(\n    By.css(&#x27;[data-testid=\&quot;send-events-snackbar-alert\&quot;]&#x27;)\n  );\n  if (alerts.length === 0) return false;\n  const text = await alerts[0].getText();\n  return text.toLowerCase().includes(\&quot;sent\&quot;) ? alerts[0] : false;\n}, 10000);\nconsole.log(\&quot;âœ… Send success snackbar shown\&quot;);\n/* ---------- Verify button is disabled / marked as Sent ---------- */\nawait driver.wait(async () =&gt; {\n  const btn = await driver.findElement(\n    By.css(`[data-testid=\&quot;send-event-button-${targetEventId}\&quot;]`)\n  );\n  const disabled = await btn.getAttribute(\&quot;disabled\&quot;);\n  const label = await btn.getText();\n  return disabled !== null || label.toLowerCase().includes(\&quot;sent\&quot;);\n}, 10000);\nconsole.log(\&quot;ðŸŽ‰ Event successfully sent and marked as Sent\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64cb60ee-0bb6-492e-8f4b-99266577c554&quot;,&quot;parentUUID&quot;:&quot;af0d0674-edef-49f0-9d56-38d02d0ed302&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7436384f-59c8-46b1-b6c2-3010659c843e&quot;,&quot;f1223ff0-637b-4a0b-b020-bea3122140a2&quot;,&quot;6c5d7aa0-9dd1-4e18-b40f-d0ca0ad9e11f&quot;,&quot;8637189e-bf88-44c8-8868-0d5f2c168a5d&quot;,&quot;5e8ace1c-c705-4620-acb1-5c282d1a828d&quot;,&quot;50c2b90d-3434-46c0-a150-d159a410516e&quot;,&quot;c9e3dc36-af4c-4b94-b19f-6c85248205e8&quot;,&quot;8f5ab839-ab1a-4a82-b3a8-f135519b179e&quot;,&quot;e3f0a897-c79a-4d10-9d75-8352980a087e&quot;,&quot;64cb60ee-0bb6-492e-8f4b-99266577c554&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:43338,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:90000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:60000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.4&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.3.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;react-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>