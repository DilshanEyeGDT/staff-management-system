<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:3,&quot;passes&quot;:3,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-12-19T19:49:38.150Z&quot;,&quot;end&quot;:&quot;2025-12-19T19:50:14.226Z&quot;,&quot;duration&quot;:36076,&quot;testsRegistered&quot;:3,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;645b5dbe-5013-486c-85f4-266f2ee75cdd&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\phase3\\roomBooking.test.js&quot;,&quot;file&quot;:&quot;\\tests\\phase3\\roomBooking.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6e51e700-0e45-4fe8-9184-66dba8f75362&quot;,&quot;title&quot;:&quot;Room &amp; Resource Booking UI test&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\tests\\phase3\\roomBooking.test.js&quot;,&quot;file&quot;:&quot;\\tests\\phase3\\roomBooking.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Room &amp; Resource Booking UI test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Room &amp; Resource Booking UI test \&quot;before all\&quot; hook in \&quot;Room &amp; Resource Booking UI test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8698,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = new chrome.Options();\noptions.addArguments(\&quot;--start-maximized\&quot;);\ndriver = await new Builder()\n  .forBrowser(\&quot;chrome\&quot;)\n  .setChromeOptions(options)\n  .build();\nconsole.log(\&quot;ðŸš€ Opening dashboard...\&quot;);\nawait driver.get(DASHBOARD_URL);\n// Inject valid Admin token manually\nawait driver.executeScript(\n  `window.localStorage.setItem(&#x27;token&#x27;, &#x27;${ACCESS_TOKEN}&#x27;);`\n);\nawait driver.navigate().refresh();\n// Wait until dashboard sidebar appears\nawait driver.wait(until.elementLocated(By.id(\&quot;dashboard-side-panel\&quot;)), 30000);\nconst title = await driver.findElement(By.id(\&quot;dashboard-title\&quot;)).getText();\nassert.ok(title.includes(\&quot;Admin Portal\&quot;), \&quot;Admin Portal title missing\&quot;);\nconsole.log(\&quot;âœ… Dashboard loaded successfully as Admin\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a815bcf9-f977-4576-9059-9ff510b65f91&quot;,&quot;parentUUID&quot;:&quot;6e51e700-0e45-4fe8-9184-66dba8f75362&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Room &amp; Resource Booking UI test\&quot;&quot;,&quot;fullTitle&quot;:&quot;Room &amp; Resource Booking UI test \&quot;after all\&quot; hook in \&quot;Room &amp; Resource Booking UI test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:492,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n  console.log(\&quot;ðŸš€ Closing browser...\&quot;);\n  await driver.quit(); // closes all tabs and ends session\n  }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;769c4c4f-a939-4244-83e7-963f5290ab48&quot;,&quot;parentUUID&quot;:&quot;6e51e700-0e45-4fe8-9184-66dba8f75362&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should navigate to Room &amp; Resource Booking page&quot;,&quot;fullTitle&quot;:&quot;Room &amp; Resource Booking UI test should navigate to Room &amp; Resource Booking page&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:467,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const feedbackNav = await driver.findElement(\n  By.id(\&quot;nav-roomBooking\&quot;)\n);\nawait feedbackNav.click();\nconst pageTitle = await driver.wait(\n  until.elementLocated(By.id(\&quot;room-booking-title\&quot;)),\n  10000\n);\nassert.strictEqual(await pageTitle.getText(), \&quot;Room &amp; Resource Booking\&quot;);\nconsole.log(\&quot;âœ… Room &amp; Resource Booking page loaded\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35fe751f-b67d-417d-a026-530bac883d7d&quot;,&quot;parentUUID&quot;:&quot;6e51e700-0e45-4fe8-9184-66dba8f75362&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter room reservations by user name and room name&quot;,&quot;fullTitle&quot;:&quot;Room &amp; Resource Booking UI test should filter room reservations by user name and room name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3597,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;/* =======================\n   GO TO ALL RESERVATIONS TAB\n======================= */\nconst reservationsTab = await driver.wait(\n  until.elementLocated(By.id(\&quot;tab-room-reservations\&quot;)),\n  10000\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, reservationsTab);\nconsole.log(\&quot;ðŸ“‘ Navigated to All Reservations tab\&quot;);\n/* =======================\n   CONFIRM TAB CONTENT\n======================= */\nconst tabContent = await driver.wait(\n  until.elementLocated(By.id(\&quot;tab-content-room-reservations\&quot;)),\n  10000\n);\nassert.ok(tabContent, \&quot;Reservations tab content not loaded\&quot;);\nconsole.log(\&quot;âœ… Reservations tab content rendered\&quot;);\n/* =======================\n   WAIT FOR INITIAL FETCH\n======================= */\nawait driver.wait(async () =&gt; {\n  const loaders = await driver.findElements(\n    By.id(\&quot;all-bookings-loading-spinner\&quot;)\n  );\n  return loaders.length === 0;\n}, 20000);\nconsole.log(\&quot;ðŸ“¦ Initial bookings fetch completed\&quot;);\n/* =======================\n   APPLY FILTERS\n======================= */\nconst userNameFilter = await driver.wait(\n  until.elementLocated(By.id(\&quot;filter-user-name\&quot;)),\n  5000\n);\nconst roomNameFilter = await driver.wait(\n  until.elementLocated(By.id(\&quot;filter-room-name\&quot;)),\n  5000\n);\n// Clear existing values (safe)\nawait userNameFilter.clear();\nawait roomNameFilter.clear();\nawait userNameFilter.sendKeys(\&quot;tha\&quot;);\nawait roomNameFilter.sendKeys(\&quot;conf\&quot;);\nconsole.log(\&quot;ðŸ” Filters applied: user=&#x27;tha&#x27;, room=&#x27;conf&#x27;\&quot;);\n/* =======================\n   WAIT FOR FILTERED RESULTS\n======================= */\nawait driver.wait(async () =&gt; {\n  const bookingCards = await driver.findElements(\n    By.css(&#x27;[data-testid^=\&quot;booking-card-\&quot;]&#x27;)\n  );\n  const emptyState = await driver.findElements(\n    By.id(\&quot;bookings-empty\&quot;)\n  );\n  return bookingCards.length &gt; 0 || emptyState.length &gt; 0;\n}, 10000);\n/* =======================\n   ASSERT RESULTS\n======================= */\nconst bookingCards = await driver.findElements(\n  By.css(&#x27;[data-testid^=\&quot;booking-card-\&quot;]&#x27;)\n);\nif (bookingCards.length &gt; 0) {\n  console.log(`âœ… ${bookingCards.length} booking(s) displayed after filtering`);\n  assert.ok(bookingCards.length &gt; 0, \&quot;Filtered bookings not displayed\&quot;);\n} else {\n  const emptyText = await driver.findElement(By.id(\&quot;bookings-empty\&quot;));\n  assert.strictEqual(\n    await emptyText.getText(),\n    \&quot;No bookings found.\&quot;,\n    \&quot;Unexpected empty bookings message\&quot;\n  );\n  console.log(\&quot;âš ï¸ No bookings matched filters (empty state shown)\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2aabfb5-af9a-4d67-8571-61efca7e332b&quot;,&quot;parentUUID&quot;:&quot;6e51e700-0e45-4fe8-9184-66dba8f75362&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fetch room utilization report and download PDF&quot;,&quot;fullTitle&quot;:&quot;Room &amp; Resource Booking UI test should fetch room utilization report and download PDF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22808,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;/* =======================\n   GO TO KPI TAB\n======================= */\nconst kpiTab = await driver.wait(\n  until.elementLocated(By.id(\&quot;tab-kpi\&quot;)),\n  10000\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, kpiTab);\nconsole.log(\&quot;ðŸ“Š Navigated to Rooms KPI tab\&quot;);\n/* =======================\n   CONFIRM KPI PAGE\n======================= */\nconst kpiPage = await driver.wait(\n  until.elementLocated(By.id(\&quot;room-utilization-page\&quot;)),\n  10000\n);\nassert.ok(kpiPage, \&quot;Room Utilization page not loaded\&quot;);\nconsole.log(\&quot;âœ… Room Utilization page loaded\&quot;);\n    /* =======================\n   MANUAL DATE PICKERS (EXTENDED TIME)\n======================= */\nconst startDateInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;utilization-filter-start-date\&quot;] input&#x27;)\n  ),\n  5000\n);\nconst endDateInput = await driver.wait(\n  until.elementLocated(\n    By.css(&#x27;[data-testid=\&quot;utilization-filter-end-date\&quot;] input&#x27;)\n  ),\n  5000\n);\n// START DATE\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, startDateInput);\nconsole.log(\&quot;â± Please manually select START date...\&quot;);\nawait driver.sleep(10000); // â¬…ï¸ increased to 10 seconds\n// END DATE\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, endDateInput);\nconsole.log(\&quot;â± Please manually select END date...\&quot;);\nawait driver.sleep(10000); // â¬…ï¸ increased to 10 seconds\n\n/* =======================\n   SELECT GROUP BY = TIME\n======================= */\nconst groupBySelect = await driver.findElement(\n  By.id(\&quot;utilization-filter-groupby\&quot;)\n);\nawait groupBySelect.click();\nconst groupByTime = await driver.wait(\n  until.elementLocated(By.id(\&quot;utilization-groupby-time\&quot;)),\n  10000\n);\nawait groupByTime.click();\nconsole.log(\&quot;âœ… Group By filter set to TIME\&quot;);\n/* =======================\n   FETCH REPORT\n======================= */\nconst fetchBtn = await driver.findElement(\n  By.id(\&quot;utilization-fetch-btn\&quot;)\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, fetchBtn);\nconsole.log(\&quot;ðŸš€ Fetch report clicked\&quot;);\n/* =======================\n   WAIT FOR FETCH RESULT\n======================= */\nawait driver.wait(async () =&gt; {\n  const loader = await driver.findElements(\n    By.id(\&quot;room-utilization-loading-spinner\&quot;)\n  );\n  const table = await driver.findElements(\n    By.id(\&quot;room-utilization-table\&quot;)\n  );\n  const snackbar = await driver.findElements(\n    By.id(\&quot;room-utilization-snackbar\&quot;)\n  );\n  return loader.length === 0 &amp;&amp; (table.length &gt; 0 || snackbar.length &gt; 0);\n}, 20000);\nconsole.log(\&quot;ðŸ“ˆ Report fetch completed\&quot;);\n/* =======================\n   ASSERT TABLE OR NO DATA\n======================= */\nconst table = await driver.findElements(\n  By.id(\&quot;room-utilization-table\&quot;)\n);\nif (table.length &gt; 0) {\n  console.log(\&quot;âœ… Utilization table displayed\&quot;);\n  const rows = await driver.findElements(\n    By.css(&#x27;[data-testid^=\&quot;utilization-row-\&quot;]&#x27;)\n  );\n  assert.ok(rows.length &gt; 0, \&quot;Utilization table has no rows\&quot;);\n} else {\n  const snackbar = await driver.findElement(\n    By.id(\&quot;room-utilization-snackbar\&quot;)\n  );\n  const text = await snackbar.getText();\n  assert.ok(\n    text.toLowerCase().includes(\&quot;no data\&quot;),\n    \&quot;Expected no data snackbar not shown\&quot;\n  );\n  console.log(\&quot;âš ï¸ No data available for selected range\&quot;);\n}\n/* =======================\n   DOWNLOAD PDF\n======================= */\nconst downloadBtn = await driver.findElement(\n  By.id(\&quot;utilization-download-btn\&quot;)\n);\nawait driver.executeScript(\&quot;arguments[0].click();\&quot;, downloadBtn);\nconsole.log(\&quot;ðŸ“„ Download PDF button clicked\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44e559ae-63ee-411a-9da0-9e35c7e0a57a&quot;,&quot;parentUUID&quot;:&quot;6e51e700-0e45-4fe8-9184-66dba8f75362&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35fe751f-b67d-417d-a026-530bac883d7d&quot;,&quot;b2aabfb5-af9a-4d67-8571-61efca7e332b&quot;,&quot;44e559ae-63ee-411a-9da0-9e35c7e0a57a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26872,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:90000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:60000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.4&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.3.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;react-app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\TharakaDilshan\\Downloads\\staff-management-system\\react-app\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>